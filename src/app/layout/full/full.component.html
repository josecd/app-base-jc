<!-- <mat-sidenav-container class="sidenav-container">
  <mat-sidenav
    #drawer
    class="sidenav"
    fixedInViewport
    [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
    [mode]="(isHandset$ | async) ? 'over' : 'side'"
    [opened]="(isHandset$ | async) === false"
  >

    <div class="relative flex flex-col bg-clip-border rounded-xl bg-white text-gray-700 h-full w-full max-w-[20rem] shadow-xl shadow-blue-gray-900/5">
      <div class="mb-2 p-4">
        <h5 class="block antialiased tracking-normal font-sans text-xl font-semibold leading-snug text-gray-900">Menú</h5>
      </div>
      <nav class="flex flex-col gap-1 min-w-[240px] p-2 font-sans text-base font-normal text-gray-700">

        <mat-nav-list>
        @for (item of listMenu; track $index) {
          <a
            mat-list-item
            [routerLink]="item.path"
            #link="routerLinkActive"
            routerLinkActive
            [activated]="link.isActive"
          >
          <div role="button" tabindex="0" class="flex items-center w-full p-3 rounded-lg text-start leading-tight transition-all hover:bg-blue-50 hover:bg-opacity-80 focus:bg-blue-50 focus:bg-opacity-80 active:bg-gray-50 active:bg-opacity-80 hover:text-blue-900 focus:text-blue-900 active:text-blue-900 outline-none">
            <div class="grid place-items-center mr-4">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="h-5 w-5">
                <path fill-rule="evenodd" d="M2.25 2.25a.75.75 0 000 1.5H3v10.5a3 3 0 003 3h1.21l-1.172 3.513a.75.75 0 001.424.474l.329-.987h8.418l.33.987a.75.75 0 001.422-.474l-1.17-3.513H18a3 3 0 003-3V3.75h.75a.75.75 0 000-1.5H2.25zm6.04 16.5l.5-1.5h6.42l.5 1.5H8.29zm7.46-12a.75.75 0 00-1.5 0v6a.75.75 0 001.5 0v-6zm-3 2.25a.75.75 0 00-1.5 0v3.75a.75.75 0 001.5 0V9zm-3 2.25a.75.75 0 00-1.5 0v1.5a.75.75 0 001.5 0v-1.5z" clip-rule="evenodd"></path>
              </svg>
            </div>
            {{ item.title }}
          </div>
          </a>
          }
        </mat-nav-list>

      </nav>
    </div>



  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar class="toolbar bg-white" style="width: 100%;">
      <div style="width: 100%;">
        <div class="flex flex-column sm:flex-row flex-wrap space-y-4 sm:space-y-0 items-center justify-between">
          <div>
            @if (isHandset$ | async) {
              <button
                type="button"
                aria-label="Toggle sidenav"
                mat-icon-button
                (click)="drawer.toggle()"
              >
                <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
              </button>
              }
          </div>

          <div class="relative">
            <div >
              <div>
                <button mat-icon-button [matMenuTriggerFor]="profilemenu" aria-label="Notifications">
                  <mat-icon class="d-flex align-items-center">account_circle</mat-icon>
                </button>
                <mat-menu #profilemenu="matMenu" color="primary" class="topbar-dd cardWithShadow">
                  <button mat-menu-item routerLink="/user/perfil">
                    <mat-icon class="d-flex align-items-center">account_circle</mat-icon>
                    {{_user.user()}}
                  </button>

                  <button (click)="logout()" mat-menu-item>
                    <mat-icon>
                      <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12H4m12 0-4 4m4-4-4-4m3-4h2a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-2"/>
                      </svg>
                    </mat-icon>
                    <span>Salir</span>
                  </button>

                </mat-menu>
              </div>

            </div>
          </div>
      </div>
      </div>
    </mat-toolbar>

    <div class="p-2">
        <router-outlet></router-outlet>
   </div>


  </mat-sidenav-content>
</mat-sidenav-container>
 -->

 <mat-sidenav-container class="sidenav-container">
  <mat-sidenav
    #drawer
    class="sidenav"
    fixedInViewport
    [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
    [mode]="(isHandset$ | async) ? 'over' : 'side'"
    [opened]="(isHandset$ | async) === false"
  >
    <div class="relative flex flex-col bg-clip-border rounded-xl bg-white text-gray-700 h-full w-full max-w-[20rem] shadow-xl shadow-blue-gray-900/5">
      <div class="mb-2 p-4">
        <h5 class="block antialiased tracking-normal font-sans text-xl font-semibold leading-snug text-gray-900">Menú</h5>
      </div>
      <nav class="flex flex-col gap-1 min-w-[240px] p-2 font-sans text-base font-normal text-gray-700">
        <mat-nav-list>
        @for (item of listMenu; track $index) {
          <ng-container >
            @if(!item.children){
              <a
              mat-list-item
              [routerLink]="item.path"
              #link="routerLinkActive"
              routerLinkActive
              [activated]="link.isActive"
            >
              <div role="button" tabindex="0" class="flex items-center w-full p-3 rounded-lg text-start leading-tight transition-all hover:bg-blue-50 hover:bg-opacity-80 focus:bg-blue-50 focus:bg-opacity-80 active:bg-gray-50 active:bg-opacity-80 hover:text-blue-900 focus:text-blue-900 active:text-blue-900 outline-none">
                <div class="grid place-items-center mr-4">
                  <mat-icon aria-hidden="false" aria-label="Example home icon" [fontIcon]="item.icon"></mat-icon>
                </div>
                {{ item.title }}
              </div>
            </a>
            }

            @if (item.children) {
              <mat-expansion-panel class="custom-expansion-panel">
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    <div class="grid place-items-center mr-4">
                      <mat-icon aria-hidden="false" aria-label="Example home icon" [fontIcon]="item.icon"></mat-icon>
                    </div>
                    {{ item.title }}
                  </mat-panel-title>
                </mat-expansion-panel-header>
                <mat-nav-list>
                  @for (child of item.children; track $index) {
                    <ng-container s>
                      <a
                        mat-list-item
                        [routerLink]="child.path"
                        #link="routerLinkActive"
                        routerLinkActive
                        [activated]="link.isActive"
                      >
                        <div role="button" tabindex="0" class="flex items-center w-full p-3 rounded-lg text-start leading-tight transition-all hover:bg-blue-50 hover:bg-opacity-80 focus:bg-blue-50 focus:bg-opacity-80 active:bg-gray-50 active:bg-opacity-80 hover:text-blue-900 focus:text-blue-900 active:text-blue-900 outline-none">
                          <div class="grid place-items-center mr-4">
                            <mat-icon aria-hidden="false" aria-label="Example home icon" [fontIcon]="child.icon"></mat-icon>
                          </div>
                          {{ child.title }}
                        </div>
                      </a>
                    </ng-container>
                  }
                </mat-nav-list>
              </mat-expansion-panel>
            }
          </ng-container>
        }

        </mat-nav-list>
      </nav>
    </div>
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar class="toolbar bg-white" style="width: 100%;">
      <div style="width: 100%;">
        <div class="flex flex-column sm:flex-row flex-wrap space-y-4 sm:space-y-0 items-center justify-between">
          <div>
            @if(isHandset$ | async){
              <ng-container >
                <button
                  type="button"
                  aria-label="Toggle sidenav"
                  mat-icon-button
                  (click)="drawer.toggle()"
                >
                  <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
                </button>
              </ng-container>
            }

          </div>
          <div class="relative">
            <div>
              <div>
                <button mat-icon-button [matMenuTriggerFor]="profilemenu" aria-label="Notifications">
                  <mat-icon class="d-flex align-items-center">account_circle</mat-icon>
                </button>
                <mat-menu #profilemenu="matMenu" color="primary" class="topbar-dd cardWithShadow">
                  <button mat-menu-item routerLink="/user/perfil">
                    <mat-icon class="d-flex align-items-center">account_circle</mat-icon>
                    {{_user.user()}}
                  </button>
                  <button (click)="logout()" mat-menu-item>
                    <mat-icon>
                      <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12H4m12 0-4 4m4-4-4-4m3-4h2a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-2"/>
                      </svg>
                    </mat-icon>
                    <span>Salir</span>
                  </button>
                </mat-menu>
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-toolbar>
    <div class="p-2">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
